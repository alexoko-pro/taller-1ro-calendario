<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Calendario Taller 1° Año - Editable</title>
  <style>
    body {
      font-family: Arial, Helvetica, sans-serif;
      margin: 20px;
      background: #f8f8f8;
      color: #333;
    }
    header {
      text-align: center;
      margin-bottom: 30px;
    }
    h1 {
      color: #d35400;
    }
    .controls {
      margin: 20px 0;
      text-align: center;
    }
    select, button {
      font-size: 1.1em;
      padding: 8px 16px;
      margin: 0 10px;
    }
    .container {
      max-width: 1800px;
      margin: 0 auto;
    }
    .meses {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(480px, 1fr));
      gap: 30px;
    }
    .mes {
      background: white;
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 15px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    .mes h2 {
      text-align: center;
      color: #d35400;
      margin: 0 0 10px;
    }
    .mini-cal {
      font-size: 0.85em;
      text-align: center;
      margin-bottom: 8px;
      color: #555;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.9em;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 6px;
      text-align: left;
      vertical-align: top;
      height: 80px;
    }
    th {
      background: #27ae60;
      color: white;
      text-align: center;
      font-size: 0.85em;
    }
    td[contenteditable="true"] {
      cursor: text;
      min-height: 70px;
    }
    td[contenteditable="true"]:focus {
      outline: 2px solid #3498db;
      background: #f0f8ff;
    }

    /* Colores de tu calendario original */
    .feriado     { background: #e74c3c; color: white; font-weight: bold; }
    .ajuste      { background: #f39c12; color: white; }
    .teoria      { background: #f1c40f; color: black; }
    .practica    { background: #d35400; color: white; }
    .pia         { background: #9b59b6; color: white; }
    .apoyo       { background: #3498db; color: white; }
    .receso      { background: #27ae60; color: white; }
    .examen      { background: #c0392b; color: white; }
    .carpinteria { background: #8e44ad; color: white; }
    .hojalateria { background: #e67e22; color: white; }

    /* Zoom controls */
    .zoom-container { transform-origin: top left; }
    @media (max-width: 800px) { .meses { grid-template-columns: 1fr; } }
  </style>
</head>
<body>

<header>
  <h1>Planificación Taller 1er Año</h1>
  <div class="controls">
    <label>Año: 
      <select id="selectAnio">
        <option value="2025">2025</option>
        <option value="2026" selected>2026</option>
        <option value="2027">2027</option>
        <option value="2028">2028</option>
      </select>
    </label>
    <button onclick="zoomIn()">Zoom +</button>
    <button onclick="zoomOut()">Zoom -</button>
    <button onclick="guardarLocal()">Guardar local</button>
    <button onclick="descargar()">Descargar HTML</button>
  </div>
</header>

<div class="container">
  <div class="meses" id="mesesContainer"></div>
</div>

<script>
// Configuración base - puedes expandir feriados por año
const feriadosBase = {
  "2025": [
    {d:1,m:1, txt:"Año Nuevo"},
    {d:24,m:3, txt:"Memoria"},
    {d:2,m:4, txt:"Malvinas"},
    {d:3,m:4, txt:"Viernes Santo"},
    {d:1,m:5, txt:"Trabajador"},
    {d:25,m:5, txt:"Revolución Mayo"},
    {d:16,m:2, txt:"Carnaval"}, {d:17,m:2, txt:"Carnaval"},
    // ... agregar más según tu PDF
  ],
  "2026": [
    {d:2,m:3, txt:"Inicio clases secundaria"},
    {d:16,m:2, txt:"Carnaval"}, {d:17,m:2, txt:"Carnaval"},
    {d:24,m:3, txt:"Memoria"},
    {d:2,m:4, txt:"Malvinas"},
    {d:3,m:4, txt:"Viernes Santo"},
    {d:1,m:5, txt:"Trabajador"},
    {d:25,m:5, txt:"Revolución Mayo"},
    {d:20,m:7, txt:"Inicio receso"}, {d:31,m:7, txt:"Fin receso"},
    // completar con agenda CABA cuando la tengas
  ]
  // agregar 2027, 2028...
};

let zoomLevel = 1;

function zoomIn()  { zoomLevel += 0.15; applyZoom(); }
function zoomOut() { zoomLevel = Math.max(0.6, zoomLevel - 0.15); applyZoom(); }
function applyZoom() {
  document.querySelector('.zoom-container').style.transform = `scale(${zoomLevel})`;
}

function generarCalendario(anio) {
  const container = document.getElementById('mesesContainer');
  container.innerHTML = '';
  container.className = 'zoom-container';

  const meses = ["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];
  const diasSemana = ["DOMINGO","LUNES","MARTES","MIÉRCOLES","JUEVES","VIERNES","SÁBADO"];

  for (let m = 0; m < 12; m++) {
    const divMes = document.createElement('div');
    divMes
